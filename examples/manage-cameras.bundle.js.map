{"version":3,"sources":["webpack:///./Engine/Render/TextRendererComponent.ts","webpack:///./Engine/Input/PointerInput.ts","webpack:///./Engine/Input/MouseInput.ts","webpack:///./Engine/Input/TouchInput.ts","webpack:///./Examples/manage-cameras.ts"],"names":[],"mappings":"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","file":"examples/manage-cameras.bundle.js","sourcesContent":["import { GameObject } from 'Engine/Base/GameObject';\nimport { RendererComponent } from 'Engine/Render/RendererComponent';\nimport { Matrix } from 'Engine/Math/Matrix';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Color } from 'Engine/Display/Color';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Class } from 'Engine/Decorator/Class';\n\n@Class()\nexport class TextRendererComponent extends RendererComponent {\n\n  public text: string = '';\n\n  public maxWidth: number = Number.MAX_VALUE;\n\n  public strokeColor: Color|undefined;\n\n  public fillColor: Color|undefined = Color.White;\n\n  public fontSize: number = 16;\n\n  public fontFamily: string = 'Arial';\n\n  public fontWeight: number = 100;\n\n  public fontStyle: 'normal'|'italic'|'oblique' = 'normal';\n\n  public fontVariant: 'normal'|'small-caps' = 'normal';\n\n  private actualWidth: number = 0;\n\n  private canvas: HTMLCanvasElement;\n\n  private ctx: CanvasRenderingContext2D;\n\n  constructor(host: GameObject,\n              browserDelegate: BrowserDelegate) {\n    super(host);\n    this.canvas = browserDelegate.createCanvas();\n    this.ctx = <CanvasRenderingContext2D>this.canvas.getContext('2d');\n  }\n\n  public update(): void {\n    super.update();\n    this.calculateBounds();\n  }\n\n  public render(ctx: CanvasRenderingContext2D, toScreenMatrix: Matrix): void {\n    ctx.save();\n\n    const m = toScreenMatrix.clone().multiply(this.transform.toWorldMatrix);\n\n    /**\n     * reverse first to correct y-axis and rotate direction\n     */\n    m.setScaling(1, -1);\n\n    ctx.transform(\n      m[0][0], m[0][1],\n      m[1][0], m[1][1],\n      m[0][2], m[1][2]\n    );\n\n    this.actualWidth = ctx.measureText(this.text).width;\n\n    ctx.font = `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${this.fontSize}px ${this.fontFamily}`;\n\n    if (this.strokeColor) {\n      ctx.strokeStyle = this.strokeColor.toHexString();\n      ctx.strokeText(\n        this.text,\n        -this.actualWidth * 0.5,\n        this.fontSize * 0.5,\n        this.maxWidth\n      );\n    }\n\n    if (this.fillColor) {\n      ctx.fillStyle = this.fillColor.toHexString();\n      ctx.fillText(\n        this.text,\n        -this.actualWidth * 0.5,\n        this.fontSize * 0.5,\n        this.maxWidth\n      );\n    }\n\n    ctx.restore();\n  }\n\n  private calculateBounds(): void {\n    const halfWidth = this.actualWidth * 0.5;\n    const halfHeight = this.fontSize * 0.5;\n    this.bounds.extents.setTo(halfWidth, halfHeight);\n    this.bounds.center\n      .copy(this.transform.position);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Render/TextRendererComponent.ts","import { Observable } from 'rxjs/Observable';\nimport { MouseInput } from 'Engine/Input/MouseInput';\nimport { TouchInput } from 'Engine/Input/TouchInput';\nimport { listToArray } from 'Engine/Utility/DOM';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Service } from 'Engine/Decorator/Service';\nimport { Inject } from 'Engine/Decorator/Inject';\n\n// interface TouchEvent extends UIEvent {\n//     readonly altKey: boolean;\n//     readonly changedTouches: TouchList;\n//     readonly charCode: number;\n//     readonly ctrlKey: boolean;\n//     readonly keyCode: number;\n//     readonly metaKey: boolean;\n//     readonly shiftKey: boolean;\n//     readonly targetTouches: TouchList;\n//     readonly touches: TouchList;\n//     readonly which: number;\n// }\n\n// interface MouseEvent extends UIEvent {\n//     readonly altKey: boolean;\n//     readonly button: number;\n//     readonly buttons: number;\n//     readonly clientX: number;\n//     readonly clientY: number;\n//     readonly ctrlKey: boolean;\n//     readonly fromElement: Element;\n//     readonly layerX: number;\n//     readonly layerY: number;\n//     readonly metaKey: boolean;\n//     readonly movementX: number;\n//     readonly movementY: number;\n//     readonly offsetX: number;\n//     readonly offsetY: number;\n//     readonly pageX: number;\n//     readonly pageY: number;\n//     readonly relatedTarget: EventTarget;\n//     readonly screenX: number;\n//     readonly screenY: number;\n//     readonly shiftKey: boolean;\n//     readonly toElement: Element;\n//     readonly which: number;\n//     readonly x: number;\n//     readonly y: number;\n//     getModifierState(keyArg: string): boolean;\n// }\n\nexport interface PointerEvent {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  shiftKey: boolean;\n  locations: ReadonlyArray<Vector>;\n}\n\n@Service()\nexport class PointerInput {\n\n  public get pointerStart$(): Observable<PointerEvent> {\n    return Observable.merge(\n      this.mouseInput.mouseDown$.map(e => this.parseMouseEvent(e)),\n      this.touchInput.touchStart$.map(e => this.parseTouchEvent(e))\n    );\n  }\n\n  public get pointerEnd$(): Observable<PointerEvent> {\n    return Observable.merge(\n      this.mouseInput.mouseUp$.map(e => this.parseMouseEvent(e)),\n      this.touchInput.touchEnd$.map(e => this.parseTouchEvent(e))\n    );\n  }\n\n  public get pointerMove$(): Observable<PointerEvent> {\n    return Observable.merge(\n      this.mouseInput.mouseMove$.map(e => this.parseMouseEvent(e)),\n      this.touchInput.touchMove$.map(e => this.parseTouchEvent(e))\n    );\n  }\n\n  constructor(private mouseInput: MouseInput,\n              private touchInput: TouchInput) {}\n\n  private parseMouseEvent(e: MouseEvent): PointerEvent {\n    return {\n      altKey: e.altKey,\n      ctrlKey: e.ctrlKey,\n      shiftKey: e.shiftKey,\n      metaKey: e.metaKey,\n      locations: [Vector.Get(e.clientX, e.clientY)]\n    };\n  }\n\n  private parseTouchEvent(e: TouchEvent): PointerEvent {\n    const locations: Vector[] = [];\n\n    listToArray<Touch|null>(e.touches).forEach(touch => {\n      if (touch) {\n        locations.push(Vector.Get(touch.clientX, touch.clientY));\n      }\n    });\n\n    return {\n      altKey: e.altKey,\n      ctrlKey: e.ctrlKey,\n      shiftKey: e.shiftKey,\n      metaKey: e.metaKey,\n      locations\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Input/PointerInput.ts","import { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Observable } from 'rxjs/Observable';\nimport { Service } from 'Engine/Decorator/Service';\nimport { Inject } from 'Engine/Decorator/Inject';\n\n@Service()\nexport class MouseInput {\n\n  public get click$(): Observable<MouseEvent> { return this.browserDelegate.click$; }\n\n  public get mouseMove$(): Observable<MouseEvent> { return this.browserDelegate.mouseMove$; }\n\n  public get mouseDown$(): Observable<MouseEvent> { return this.browserDelegate.mouseDown$; }\n\n  public get mouseUp$(): Observable<MouseEvent> { return this.browserDelegate.mouseUp$; }\n\n  public get wheel$(): Observable<MouseEvent> { return this.browserDelegate.wheel$; }\n\n  constructor(private browserDelegate: BrowserDelegate) {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Input/MouseInput.ts","import { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Observable } from 'rxjs/Observable';\nimport { Service } from 'Engine/Decorator/Service';\nimport { Inject } from 'Engine/Decorator/Inject';\n\n@Service()\nexport class TouchInput {\n\n  public get touchStart$(): Observable<TouchEvent> { return this.browserDelegate.touchStart$; }\n\n  public get touchEnd$(): Observable<TouchEvent> { return this.browserDelegate.touchEnd$; }\n\n  public get touchCancel$(): Observable<TouchEvent> { return this.browserDelegate.touchCancel$; }\n\n  public get touchMove$(): Observable<TouchEvent> { return this.browserDelegate.touchMove$; }\n\n  constructor(private browserDelegate: BrowserDelegate) {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Input/TouchInput.ts","// tslint:disable max-classes-per-file\nimport 'Engine/imports';\n\nimport { GameObject } from 'Engine/Base/GameObject';\nimport { Component } from 'Engine/Base/Component';\nimport { Scene } from 'Engine/Base/Scene';\nimport { SceneManager } from 'Engine/Base/SceneManager';\nimport { Screen } from 'Engine/Base/Screen';\nimport { Camera } from 'Engine/Base/Camera';\nimport { instantiate, bootstrap } from 'Engine/Base/runtime';\n\nimport { Time } from 'Engine/Time/Time';\n\nimport { Class } from 'Engine/Decorator/Class';\nimport { Inject } from 'Engine/Decorator/Inject';\n\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { Color } from 'Engine/Display/Color';\nimport { Bounds } from 'Engine/Display/Bounds';\n\nimport { Texture } from 'Engine/Resource/Texture';\n\nimport { Vector } from 'Engine/Math/Vector';\n\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { LineRendererComponent } from 'Engine/Render/LineRendererComponent';\nimport { TextRendererComponent } from 'Engine/Render/TextRendererComponent';\n\nimport { PointerInput, PointerEvent } from 'Engine/Input/PointerInput';\n\nimport { RigidbodyComponent } from 'Engine/Physics/RigidbodyComponent';\n\nconst texture: Texture = new Texture('../Assets/circle.png');\n\n@Class()\nclass Player extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  private body: RigidbodyComponent;\n\n  private destination: Vector = new Vector();\n\n  private moveSpeed: number = 100;\n\n  private isMoving: boolean = false;\n\n  public start(): void {\n    super.start();\n\n    const sprite = new Sprite(texture);\n    sprite.rect.width = 100;\n    sprite.rect.height = 100;\n\n    this.renderer = this.addComponent(SpriteRendererComponent);\n    this.renderer.sprite = sprite;\n\n    this.body = this.addComponent(RigidbodyComponent);\n  }\n\n  public move(destination: Vector): void {\n    this.isMoving = true;\n    this.destination.copy(destination);\n    this.body.velocity\n      .copy(destination)\n      // dest - pos = relative\n      .subtract(this.transform.position)\n      .normalize()\n      .scale(this.moveSpeed);\n  }\n\n  public stopMove(): void {\n    this.isMoving = false;\n    this.body.velocity.reset();\n  }\n\n  public update(): void {\n    super.update();\n\n    if (this.isMoving) {\n      if (this.transform.position.distanceTo(this.destination) < 10) {\n        this.stopMove();\n      }\n    }\n  }\n\n}\n\n@Class()\nclass Box extends GameObject {\n\n  private size: number = 300;\n\n  public start(): void {\n    super.start();\n\n    const outline = this.addComponent(LineRendererComponent);\n\n    const halfSize = this.size / 2;\n\n    outline.addPoint(\n      new Vector(halfSize, halfSize),\n      new Vector(halfSize, -halfSize),\n      new Vector(-halfSize, -halfSize),\n      new Vector(-halfSize, halfSize)\n    );\n\n    outline.closePath = true;\n\n    outline.strokeColor = Color.White;\n  }\n\n}\n\n@Class()\nclass Label extends GameObject {\n\n  private renderer: TextRendererComponent;\n\n  public text: string = '';\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(TextRendererComponent);\n    this.renderer.text = this.text;\n  }\n\n}\n\n@Class()\nclass CameraFollow extends Component {\n\n  @Inject(Time)\n  private time: Time;\n\n  public bounds: Bounds = new Bounds();\n\n  private target: GameObject|null;\n\n  private isFollowing: boolean = false;\n\n  private relative: Vector = new Vector();\n\n  public follow(target: GameObject|null) : void { this.target = target; }\n\n  public update(): void {\n    if (!this.target) {\n      return;\n    }\n\n    const cameraPosition = this.host.transform.position;\n    const targetPosition = this.target.transform.position;\n\n    this.bounds.center.copy(cameraPosition);\n\n    if (this.isFollowing) {\n      cameraPosition.copy(targetPosition).add(this.relative);\n      if (this.bounds.containPoint(targetPosition)) {\n        this.isFollowing = false;\n      }\n    } else {\n      if (!this.bounds.containPoint(targetPosition)) {\n        this.isFollowing = true;\n        this.relative.copy(cameraPosition).subtract(targetPosition);\n      }\n    }\n  }\n\n}\n\n@Class()\nclass Game {\n\n  private player: Player = instantiate(Player);\n\n  private scene: Scene = instantiate(Scene);\n\n  private mainCamera: Camera = this.scene.mainCamera;\n\n  private subCamera: Camera = instantiate(Camera);\n\n  constructor(sceneManager: SceneManager,\n              pointerInput: PointerInput,\n              screen: Screen) {\n    this.scene.resources.add(texture);\n    this.scene.add(this.player);\n    this.scene.add(this.subCamera);\n    this.scene.add(instantiate(Box));\n    sceneManager.add(this.scene);\n\n    this.mainCamera.backgroundColor = Color.CreateByHexRgb('#4A687F');\n    const cameraFollow = this.mainCamera.addComponent(CameraFollow);\n    cameraFollow.bounds.extents.setTo(50, 50);\n    cameraFollow.follow(this.player);\n\n    const halfScreenWidth = screen.width * 0.5;\n\n    // split screen\n    this.mainCamera.setSize(halfScreenWidth, screen.height);\n    this.subCamera.setSize(halfScreenWidth, screen.height);\n    this.subCamera.rect.position.setTo(halfScreenWidth, 0);\n\n    pointerInput.pointerStart$.subscribe(e => this.onPointerStart(e));\n\n    const mainCameraLabel: Label = instantiate(Label);\n    mainCameraLabel.text = 'Main Camera, click to move';\n    mainCameraLabel.layer = 1 << 10;\n    this.scene.add(mainCameraLabel);\n    this.mainCamera.cullingMask = this.mainCamera.cullingMask | mainCameraLabel.layer;\n\n    const subCameraLabel: Label = instantiate(Label);\n    subCameraLabel.text = 'Sub Camera';\n    subCameraLabel.layer = 1 << 11;\n    this.scene.add(subCameraLabel);\n    this.subCamera.cullingMask = this.subCamera.cullingMask | subCameraLabel.layer;\n  }\n\n  private onPointerStart(e: PointerEvent): void {\n    const location = e.locations[0];\n    const halfScreenWidth = screen.width * 0.5;\n    if (location.x > halfScreenWidth) {\n      // do not handle sub camera\n      return;\n    }\n    const worldPosition = this.mainCamera.screenToWorld(location);\n    this.player.move(worldPosition);\n  }\n\n}\n\ninstantiate(Game);\n\nbootstrap().catch(console.error);\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/manage-cameras.ts"],"sourceRoot":""}